<?xml version="1.0" encoding="UTF-8"?>

<?import java.lang.String?>
<?import javafx.collections.FXCollections?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Menu?>
<?import javafx.scene.control.MenuBar?>
<?import javafx.scene.control.MenuItem?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.ToolBar?>
<?import javafx.scene.control.Tooltip?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.text.Font?>

<AnchorPane maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" prefHeight="800.0"
            prefWidth="600.0" style="-fx-background-color: fdfdfd;" xmlns="http://javafx.com/javafx/23.0.1"
            xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.tcss.filewatcher.Viewer.MainSceneController">

    <MenuBar layoutY="1.0" prefHeight="25.0" prefWidth="600.0">

        <Menu text="_File">
            <MenuItem id="closeMenuItem" onAction="#handleOnClose" text="_Close"/>
        </Menu>

        <Menu text="File System _Watcher">
            <MenuItem id="openLiveEventsMenuItem" disable="true" mnemonicParsing="false"
                      onAction="#handleFileWatcherButton" text="Open Live Events"/>
        </Menu>

        <Menu text="_Database">
            <MenuItem fx:id="myQueryMenuItem" disable="true" mnemonicParsing="false" text="Query"/>

        </Menu>

        <Menu text="_About">
            <MenuItem id="aboutMenuItem" mnemonicParsing="false" onAction="#handleAboutScene"
                      text="About File System watcher"/>
        </Menu>
    </MenuBar>

    <Label alignment="CENTER" contentDisplay="CENTER" layoutX="40.0" layoutY="83.0" prefHeight="20.0" prefWidth="521.0"
           text="Select a file extension, a directory, and click start to begin file System Monitor."
           textAlignment="CENTER" AnchorPane.leftAnchor="40.0" AnchorPane.rightAnchor="40.0">
        <font>
            <Font size="14.0"/>
        </font>
    </Label>
    <!--
      FileWatcher ComboBox
    -->
    <ComboBox fx:id="myMonitorByExtensionComBox" layoutX="49.0" layoutY="163.0" prefHeight="25.0" prefWidth="161.0"
              promptText="All Extensions" AnchorPane.leftAnchor="49.0">
        <items>
            <FXCollections fx:factory="observableArrayList">
                <String fx:value="All Extensions"/>
                <String fx:value=".7z"/>
                <String fx:value=".bak"/>
                <String fx:value=".bat"/>
                <String fx:value=".bin"/>
                <String fx:value=".c"/>
                <String fx:value=".cmd"/>
                <String fx:value=".cpp"/>
                <String fx:value=".cs"/>
                <String fx:value=".csv"/>
                <String fx:value=".dll"/>
                <String fx:value=".dmg"/>
                <String fx:value=".doc"/>
                <String fx:value=".docm"/>
                <String fx:value=".docx"/>
                <String fx:value=".env"/>
                <String fx:value=".exe"/>
                <String fx:value=".go"/>
                <String fx:value=".gz"/>
                <String fx:value=".img"/>
                <String fx:value=".ini"/>
                <String fx:value=".iso"/>
                <String fx:value=".java"/>
                <String fx:value=".js"/>
                <String fx:value=".json"/>
                <String fx:value=".md"/>
                <String fx:value=".msi"/>
                <String fx:value=".old"/>
                <String fx:value=".pdf"/>
                <String fx:value=".pl"/>
                <String fx:value=".ppt"/>
                <String fx:value=".pptm"/>
                <String fx:value=".pptx"/>
                <String fx:value=".ps1"/>
                <String fx:value=".py"/>
                <String fx:value=".rar"/>
                <String fx:value=".rb"/>
                <String fx:value=".rpm"/>
                <String fx:value=".rtf"/>
                <String fx:value=".run"/>
                <String fx:value=".sh"/>
                <String fx:value=".sql"/>
                <String fx:value=".swp"/>
                <String fx:value=".tar"/>
                <String fx:value=".tmp"/>
                <String fx:value=".txt"/>
                <String fx:value=".vbs"/>
                <String fx:value=".xls"/>
                <String fx:value=".xlsm"/>
                <String fx:value=".xlsx"/>
                <String fx:value=".xml"/>
                <String fx:value=".yaml"/>
                <String fx:value=".zip"/>
            </FXCollections>
        </items>
    </ComboBox>

    <Label layoutX="56.0" layoutY="147.0" text="Monitor by extension" AnchorPane.leftAnchor="55.0"/>
    <TextField fx:id="myDirectoryToMonitorTB" layoutX="242.0" layoutY="163.0" prefHeight="25.0" prefWidth="307.0"
               AnchorPane.rightAnchor="50.0"/>

    <Label layoutX="246.0" layoutY="147.0" text="Directory to monitor"/>

    <Button id="addButton" layoutX="246.0" layoutY="197.0" mnemonicParsing="false" onAction="#handleAddDirectoryButton"
            prefHeight="25.0" prefWidth="144.0" style="-fx-effect: dropshadow(gaussian, rgba(0,0,0,0.15), 2, 0, 0, 1);"
            text="Add"/>

    <Button fx:id="myDeleteDirectoryBTN" disable="true" layoutX="405.0" layoutY="197.0" mnemonicParsing="false"
            onAction="#handleDeleteButton" prefHeight="25.0" prefWidth="144.0"
            style="-fx-effect: dropshadow(gaussian, rgba(0,0,0,0.15), 2, 0, 0, 1);" text="Delete"
            AnchorPane.rightAnchor="50.0"/>

    <TextField fx:id="myDirectoryToQueryTB" layoutX="242.0" layoutY="263.0" prefHeight="25.0" prefWidth="307.0"
                AnchorPane.rightAnchor="50.0"/>

    <Label layoutX="246.0" layoutY="246.0" text="Directory to query"/>

    <Label layoutX="56.0" layoutY="246.0" text="Query by extension" AnchorPane.leftAnchor="55.0"/>

    <Button fx:id="myQueryButton" disable="true" layoutX="245.0" layoutY="297.0" mnemonicParsing="false"
            prefHeight="25.0" prefWidth="144.0" style="-fx-effect: dropshadow(gaussian, rgba(0,0,0,0.15), 2, 0, 0, 1);"
            text="Query"/>

    <Button fx:id="myClearButton" disable="true" layoutX="483.0" layoutY="297.0" mnemonicParsing="false"
            prefHeight="25.0" prefWidth="144.0" style="-fx-effect: dropshadow(gaussian, rgba(0,0,0,0.15), 2, 0, 0, 1);"
            text="Clear" AnchorPane.rightAnchor="50.0"/>

    <Label layoutX="14.0" layoutY="375.0" text="File System Watch List:"/>
    <ToolBar layoutX="14.0" layoutY="33.0" prefHeight="36.0" prefWidth="231.0" style="-fx-background-color: fdfdfd;">
        <HBox prefHeight="0.0" prefWidth="115.0" spacing="20.0">
            <Button fx:id="myStartIconBtn" accessibleHelp="Press this button to start the file wathcer."
                    accessibleText="Start file watcher" maxHeight="25.0" maxWidth="25.0" minHeight="25.0"
                    minWidth="25.0" mnemonicParsing="false" onAction="#handleStartFileWatcher" prefHeight="25.0"
                    prefWidth="25.0"
                    style="-fx-background-radius: 95;
                    -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.15), 2, 0, 0, 1);">

                <tooltip>
                    <Tooltip text="Start File Watcher"/>
                </tooltip>

                <graphic>
                    <ImageView fitHeight="20.0" fitWidth="20.0">
                        <Image url="@../../../icons/startIcon.png"/>
                    </ImageView>
                </graphic>

            </Button>


            <Button fx:id="myStopIconBtn" disable="true" maxHeight="25.0" maxWidth="25.0" minHeight="25.0"
                    minWidth="25.0" mnemonicParsing="false" onAction="#handleStopFileWatcher" prefHeight="25.0"
                    prefWidth="25.0"
                    style="-fx-background-radius: 95;
                    -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.15), 2, 0, 0, 1);">

                <tooltip>
                    <Tooltip text="Stop File Watcher"/>
                </tooltip>

                <graphic>
                    <ImageView fitHeight="20.0" fitWidth="20.0">
                        <Image url="@../../../icons/stopIcon.png"/>
                    </ImageView>
                </graphic>
            </Button>


            <Button fx:id="myFileWatcherViewerIconBtn" disable="true" maxHeight="25.0" maxWidth="25.0" minHeight="25.0"
                    minWidth="25.0" mnemonicParsing="false" onAction="#handleFileWatcherButton" prefHeight="25.0"
                    prefWidth="25.0"
                    style="-fx-background-radius: 95;
                    -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.15), 2, 0, 0, 1);">

                <tooltip>
                    <Tooltip text="View File Watcher (live)"/>
                </tooltip>

                <graphic>
                    <ImageView fitHeight="25.0" fitWidth="25.0">
                        <Image url="@../../../icons/watcher.png"/>
                    </ImageView>
                </graphic>
            </Button>


            <Button id="emailIconButton" maxHeight="25.0" maxWidth="25.0" minHeight="25.0" minWidth="25.0"
                    mnemonicParsing="false" prefHeight="25.0" prefWidth="25.0"
                    style="-fx-background-radius: 95;
                    -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.15), 2, 0, 0, 1);">

                <tooltip>
                    <Tooltip text="Open Email Preferences"/>
                </tooltip>

                <graphic>
                    <ImageView fitHeight="19.0" fitWidth="20.0">
                        <Image url="@../../../icons/email_Icon.png"/>
                    </ImageView>
                </graphic>
            </Button>


            <Button id="queryIconButton"
                    onAction="#handleQueryScene"
                    maxHeight="25.0"
                    maxWidth="104.0"
                    minHeight="25.0"
                    minWidth="25.0"
                    mnemonicParsing="false"
                    prefHeight="25.0"
                    prefWidth="104.0" style="-fx-background-radius: 95;
                    -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.15), 2, 0, 0, 1);">

                <tooltip>
                    <Tooltip text="Query Historical Records"/>
                </tooltip>

                <graphic>
                    <ImageView fitHeight="20.0" fitWidth="20.0">
                        <Image url="@../../../icons/SQLicon.png"/>
                    </ImageView>
                </graphic>
            </Button>
        </HBox>
    </ToolBar>
    <!--
           Query ComboBox
       -->
    <ComboBox fx:id="myQueryByExtensionComBox" layoutX="49.0" layoutY="263.0" prefHeight="25.0" prefWidth="161.0">
        <items>
            <FXCollections fx:factory="observableArrayList">
                <String fx:value="All Extensions"/>
                <String fx:value=".7z"/>
                <String fx:value=".bak"/>
                <String fx:value=".bat"/>
                <String fx:value=".bin"/>
                <String fx:value=".c"/>
                <String fx:value=".cmd"/>
                <String fx:value=".cpp"/>
                <String fx:value=".cs"/>
                <String fx:value=".csv"/>
                <String fx:value=".dll"/>
                <String fx:value=".dmg"/>
                <String fx:value=".doc"/>
                <String fx:value=".docm"/>
                <String fx:value=".docx"/>
                <String fx:value=".env"/>
                <String fx:value=".exe"/>
                <String fx:value=".go"/>
                <String fx:value=".gz"/>
                <String fx:value=".img"/>
                <String fx:value=".ini"/>
                <String fx:value=".iso"/>
                <String fx:value=".java"/>
                <String fx:value=".js"/>
                <String fx:value=".json"/>
                <String fx:value=".md"/>
                <String fx:value=".msi"/>
                <String fx:value=".old"/>
                <String fx:value=".pdf"/>
                <String fx:value=".pl"/>
                <String fx:value=".ppt"/>
                <String fx:value=".pptm"/>
                <String fx:value=".pptx"/>
                <String fx:value=".ps1"/>
                <String fx:value=".py"/>
                <String fx:value=".rar"/>
                <String fx:value=".rb"/>
                <String fx:value=".rpm"/>
                <String fx:value=".rtf"/>
                <String fx:value=".run"/>
                <String fx:value=".sh"/>
                <String fx:value=".sql"/>
                <String fx:value=".swp"/>
                <String fx:value=".tar"/>
                <String fx:value=".tmp"/>
                <String fx:value=".txt"/>
                <String fx:value=".vbs"/>
                <String fx:value=".xls"/>
                <String fx:value=".xlsm"/>
                <String fx:value=".xlsx"/>
                <String fx:value=".xml"/>
                <String fx:value=".yaml"/>
                <String fx:value=".zip"/>
            </FXCollections>
        </items>
    </ComboBox>
    <TableView fx:id="myDirectoriesToMonitorTable" layoutX="6.0" layoutY="392.0" onMousePressed="#handleTableView"
               prefHeight="397.0" prefWidth="587.0" AnchorPane.bottomAnchor="10.0" AnchorPane.leftAnchor="10.0"
               AnchorPane.rightAnchor="10.0">
        <columns>
            <TableColumn fx:id="myDate" prefWidth="87.33331048488617" text="Date"/>
            <TableColumn fx:id="myTime" minWidth="0.0" prefWidth="84.66663360595703" text="Time"/>
            <TableColumn fx:id="myFileExtension" prefWidth="103.3333740234375" text="File Extension"/>
            <TableColumn fx:id="myDirectory" prefWidth="311.333251953125"
                         text="Directory                                                       "/>
        </columns>
    </TableView>

</AnchorPane>
